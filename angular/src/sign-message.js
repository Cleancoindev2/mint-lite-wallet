"use strict";!function(){let n="\n        body, html {\n            margin: 0;\n            padding: 0;\n            min-width: 300px;\n            width: 100%;\n            height: 520px;\n            overflow: hidden;\n            font-size: 16px;\n            font-family: Avenir,Helvetica,Arial,sans-serif;\n            line-height: 1.5;\n        }\n        header {\n            background: #212121;\n            color: #ccc;\n            height: 57px;\n            padding: 0 1rem;\n            display: flex;\n            align-items: center;\n        }\n        header svg {\n          min-width: 25px;\n        }\n        header > div {\n            width: 100%;\n            width: 100%;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            margin-left: 15px;\n        }\n        .confirm-container {\n            margin: 1rem;\n        }\n        .confirm-block {\n            margin-top: 0.5rem;\n        }\n        .h4, h4 {\n            font-size: 1.5rem;\n            margin-top: 0;\n            margin-bottom: 1rem;\n            font-weight: 500;\n            line-height: 1.2;\n            text-align: center;\n        }\n        .confirm-info-block {\n            border-bottom: 2px solid #e9cb6b;\n            border-top: 2px solid #e9cb6b;\n            padding: 0.5rem 0;\n        }\n        #sourceIconBlock {\n            display: none;\n            text-align: center;\n            margin-right: 5px;\n        }\n        .source-block {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        .source-host {\n            text-align: center;\n            font-weight: 600;\n            overflow: hidden;\n            text-overflow: ellipsis;\n        }\n        .confirm-text {\n            text-align: center;\n            font-size: 14px;\n            line-height: 1.4;\n        }\n        .attention-text {\n            text-align: center;\n            font-size: 14px;\n            line-height: 1.4;\n        }\n        .attention-text b {\n            color: #fa3c00;\n        }\n        .icon-gold {\n            color: #e9cb6b;\n            fill: #e9cb6b;\n        }\n        .button-block {\n            display: flex;\n            margin-top: 1.5rem;\n            justify-content: center;\n        }\n        .btn:not(:disabled):not(.disabled) {\n            cursor: pointer;\n        }\n        .btn {\n            font-size: 1.125rem;\n            letter-spacing: .1em;\n            text-transform: uppercase;\n            padding: .875rem 1.25rem;\n            min-height: 57px;\n            min-width: 150px;\n            cursor: pointer;\n            display: inline-block;\n            font-weight: 700;\n            text-align: center;\n            white-space: nowrap;\n            vertical-align: middle;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            border: 1px solid transparent;\n            line-height: 1.5;\n            border-radius: 0;\n            transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;\n        }\n        .btn-sm {\n            font-size: .875rem;\n            line-height: 1rem;\n            letter-spacing: 0;\n            text-transform: none;\n            padding: .625rem .875rem;\n            min-height: 38px;\n            min-width: 75px;\n        }\n        .btn-primary {\n            background-color: #e9cb6b;\n            border-color: #e9cb6b;\n            color: #1c1c1c;\n            max-width: 250px;\n        }\n        .btn-cancel {\n            margin-right: 0.25rem;\n            width: 50%;\n        }\n        .btn-confirm {\n            margin-left: 0.25rem;\n            width: 50%;\n        }\n        [type=reset], [type=submit], button, html [type=button] {\n            -webkit-appearance: button;\n        }\n        .btn-primary:hover {\n            color: #212529;\n            background-color: #fadc7d;\n            border-color: #fadc7d;\n        }\n        .btn:focus, .btn:hover {\n            text-decoration: none;\n            outline: none;\n        }\n        .btn-primary:not(:disabled):not(.disabled).active, .btn-primary:not(:disabled):not(.disabled):active, .show>.btn-primary.dropdown-toggle {\n            background-color: #fadc7d;\n            border-color: #fadc7d;\n        }\n        .btn-primary:not([disabled]):not(.disabled).active, .btn-primary:not([disabled]):not(.disabled):active {\n            color: #fff;\n        }\n        .btn-primary.focus, .btn-primary:focus, .btn-primary:not(:disabled):not(.disabled).active:focus, .btn-primary:not(:disabled):not(.disabled):active:focus, .show>.btn-primary.dropdown-toggle:focus {\n            box-shadow: 0 0 0 0.2rem rgba(233,203,107,.5);\n        }\n        .btn-primary.disabled, .btn-primary:disabled {\n            color: #212529;\n            background-color: #e9cb6b;\n            border-color: #e9cb6b;\n            cursor: not-allowed;\n        }\n        .btn.disabled, .btn:disabled {\n            opacity: .65;\n        }\n        .message-block {\n          border-bottom: 2px solid #e9cb6b;\n        }\n        .message-details {\n          max-height: 151px;\n          overflow: auto;\n          min-height: 151px;\n        }\n        .message-view-btn {\n          text-align: right;\n          margin-bottom: 5px\n        }\n        .btn-text, .btn-hex {\n          background: transparent;\n          border: 2px solid #cfcfcf;\n          outline: none;\n          cursor: pointer;\n        }\n        .message-block.text .btn-text {\n          background: rgba(171, 171, 171, 0.3);\n        }\n        .message-block.text .message-text {\n          display: block;\n        }\n        .message-block.text .message-hex {\n          display: none;\n        }\n        .message-block.text .btn-hex {\n          background: transparent;\n        }\n        .message-block.hex .btn-hex {\n          background: rgba(171, 171, 171, 0.3);\n        }\n        .message-block.hex .message-hex {\n          display: block;\n        }\n        .message-block.hex .message-text {\n          display: none;\n        }\n        .message-block.hex .btn-text {\n          background: transparent;\n        }\n    ",e={};window.location.search.replace(/^\?/,"").split("&").forEach(n=>{let t=n.split("=");e[decodeURIComponent(t[0])]=t.length>1?decodeURIComponent(t[1]):""});let t,o,i,r,s,a,c="undefined"!=typeof InstallTrigger,l=c?browser:chrome,d=CryptoJS,b=e.id,g=e.tabId,m={};function p(){l.storage.local.get(null,n=>{r=n.messagesForSign,a=n.wallets,r.forEach(n=>{if(n.id==b){s=n;let e,r=[];for(let n in s.bytes)r.push(s.bytes[n]);if(s.bytes=r,r&&r.length){s.utf8=new TextDecoder("utf-8").decode(new Uint8Array(s.bytes));const n=new Uint8Array(s.bytes).buffer;s.hex="0x"+function(n){return Array.prototype.map.call(new Uint8Array(n),n=>("00"+n.toString(16)).slice(-2)).join("")}(n),m.messageText.textContent=s.utf8,m.messageHex.textContent=s.hex}for(let o=0;o<a.length;o++)if(a[o].publicKey===n.publicKey){e=a[o].privateKey,t=a[o].name;break}o=d.AES.decrypt(e,i).toString(d.enc.Utf8),m.sourceHost.textContent=n.host,m.messageLength.textContent=s.bytes?s.bytes.length:0,m.accountName.textContent=t||"",n.iconUrl&&(m.sourceIconBlock.style.display="block",m.sourceIcon.setAttribute("src",n.iconUrl)),y()}})})}function h(n){n.identifier&&(i=n.identifier,p())}function u(){let n;try{const e=window.mint.Signer.FromPK(o);n=e.SignMessage(new Uint8Array(s.bytes))}catch(n){f()}l.storage.local.get(null,e=>{(r=e.messagesForSign).forEach((n,e)=>{n.id==b&&r.splice(e,1)}),l.storage.local.set({messagesForSign:r},()=>{l.runtime.sendMessage({sendSignResult:{result:n,id:b,tabId:g}}),x()})})}function f(){l.storage.local.get(null,n=>{(r=n.messagesForSign).forEach((n,e)=>{n.id==b&&r.splice(e,1)}),l.storage.local.set({messagesForSign:r},()=>{l.runtime.sendMessage({sendSignResult:{result:null,id:b,tabId:g}}),x()})})}function x(){l.windows.getCurrent(n=>{l.windows.remove(n.id)})}function y(){m.messageBlock.classList.remove("hex"),m.messageBlock.classList.add("text")}function w(){m.messageBlock.classList.remove("text"),m.messageBlock.classList.add("hex")}!function(){(function(){let e=document.createElement("style");e.appendChild(document.createTextNode(n)),document.head.appendChild(e)})(),c?l.runtime.onMessage.addListener((n,e,t)=>{h(n)}):l.extension.onMessage.addListener((n,e,t)=>{h(n)});l.runtime.sendMessage({getIdentifier:!0}),e=["sourceHost","sourceIconBlock","sourceIcon","messageLength","btnClose","btnConfirm","messageBlock","btnText","btnHex","messageText","messageHex","accountName"],e.forEach(n=>{m[n]=document.getElementById(n)}),m.btnClose.addEventListener("click",f),m.btnConfirm.addEventListener("click",u),m.btnText.addEventListener("click",y),m.btnHex.addEventListener("click",w);var e}()}();
